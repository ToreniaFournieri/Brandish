import random
import os


# Provided map as a list of lists
maze_map = [
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
    "＃・・・＃・・・・・・・＃・・・・・・+・・・＃・・・＃・・・＃",
    "＃・・・+・・・・・・・+・・・・・・＃＃＃・＃・＃・＃・＃・＃",
    "＃・・・＃・・・・・・・＃・・・・・・+🕳＃・・・＃・＃・＃・＃",
    "＃・・・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・＃＃＃＃＃・＃・＃・＃",
    "＃＃<＃＃・・・・・・・+・・Ｍ・・・＃・・・・＃＃・＃・＃・＃",
    "＃＃＃＃＃・＃＃＃＃＃＃＃＃＃・Ｍ＃＃＃＃＃＃・・＃・・・＃・＃",
    "＃$＃・・・＃・・・・＃・・＃・Ｍ＃・・・・＃＃・＃＃＃🕳＃・＃",
    "＃・＃・＃・+・＃＃・・・・＃!・＃(・＃・・＃・・＃＃・＃・＃",
    "＃・＃・＃・＃・・＃＃＃＃＃＃・・＃＃＃＃＃・＃＃・・＃$＃・＃",
    "＃+＃・＃・＃＃・＃＃・・・・Ｍ・・・・・＃・・＃＃+＃＃＃・＃",
    "＃・・・＃・🗡＃・＃・・・＃・・・*＃・・＃＃・＃・・+・・・＃",
    "＃＃＃＃＃+＃＃・＃・・＃＃＃+＃＃＃＃・・＃・＃＃・＃＃＃＃＃",
    "＃・・・＃・・＃・＃・＃＃・!・・Ｍ・＃＃・+・・＃・＃・・・＃",
    "＃・＃・＃＃・＃・＃・・＃!・・・・・＃・・＃＃＃＃+＃・(・＃",
    "＃$＃・+・・＃・＃Ｍ・＃・・S・!・＃・・Ｍ・・・・＃＃・＃＃",
    "＃＃＃・＃＃＃＃・＃・・＃Ｍ・・・・・＃・・・・・・・＃・・・＃",
    "＃・・・＃・+・・＃・・＃・・・Ｍ・・＃・・＃＃＃＃＃＃＃・＃＃",
    "＃・・＃＃・＃・・＃・＃＃・・・・・・＃＃・＃・・・・＃・・・＃",
    "＃＃＃＃＃・＃＃＃＃・・＃＃＃＃＃＃＃＃・・＃・＃・・＃＃+＃＃",
    "＃!・・＃・・・・＃・・・＃・・・・＃・・・＃・・・・・🕳・・＃",
    "＃🗡・・＃＃＃・・＃＃・・・・・・・・・・＃＃＃＃＃・・・・・＃",
    "＃・・・＃・・・＃＃＃＃＃＃＃＃+＃＃＃＃＃・・・＃＃＃・・・＃",
    "＃・・・・・＃＃＃・・・・・・・・＃・・🕳・・・・＃＃・・＃・＃",
    "＃＃＃＃＃＃＃・・・・・・🕳・・・＃$＃＃＃・＃＃＃・・・＃・＃",
    "＃・・・・🕳・・＃＃＃＃＃・・・・＃＃＃・・・・+・・・＃＃・＃",
    "＃🕳・＃＃＃＃＃＃・・・＃・・🕳・・・・・・・＃＃・＃・＃＃・＃",
    "＃・・＃!・・・・・＃・＃＃＃＃＃＃＃＃・・・＃・・・・＃＃・＃",
    "＃＃・＃＃・・🕳・・＃・・+・・+・・＃＃+＃＃＃＃・🕳＃・・＃",
    "＃＃・・＃＃＃＃＃・＃＃＃＃＃＃＃＃+＃・・・＃＃＃＃・・＃🚪＃",
    "＃＃＃・・・🕳・・・・$＃$・・・・・＃・💰・＃[・・・・＃・＃",
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃"
]

Cave_map1 =[
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃", #00 y
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃・＃Ｍ・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃", #
    "＃＃＃＃＃＃＃＃＃＃＃＃・・・＃・・・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃", #
    "＃＃＃＃＃＃＃＃＃＃＃・＃・・＃＃・・・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃", #
    "＃＃＃＃＃＃＃＃＃＃・・・・・・＃💰・・・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃", #
    "＃＃＃＃＃＃＃＃＃・・・・・・・・・・・＃・＃＃＃＃・・・・＃＃＃＃＃＃", #05
    "＃＃＃＃＃＃・💰・・・・・・・・・・・・・・・＃＃＃・・・・・＃＃＃＃＃", #
    "＃＃＃・＃・・＃・・・・・・・・・・・・・・・＃＃＃＃・・・・＃＃＃＃＃", #
    "＃＃・・・・・・・・・・・・・・・・・・・・・・＃＃＃＃・・・・＃＃＃＃", #
    "＃＃・・・・・・・・・・・・・・・・・・・・・・・＃＃＃＃・🏪・・＃＃＃", #
    "＃・・・・・🕳・＃＃＃＃＃＃＃・・・・・・・・・・・＃＃＃・・・・・＃＃", #10
    "＃・・・・・・・＃🗡・🚪・・＃・・・🖤・・・・・・・・＃＃・・・・＃＃＃", #
    "＃・・・・・・・＃＃＃＃・・＃・＃Ｍ・・・・・💰🕳・・・＃＃＃🚪＃＃＃＃", #
    "＃・・・・・・・＃・・・・・＃・・・・・・・・・・・・・・・・・・＃＃＃", #
    "＃・・・・・・・＃＃＃＃🚪＃＃・・・・・・・・・💰・・・・・・・・・＃＃", #
    "＃＃＃・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・・＃", #15
    "＃・・＃・・・・Ｍ・・・・・・・・・・・💰・・・・・・・・・・・・・＃＃", #
    "＃・🕳・＃・・・・・・・・＃・・・・・・・・・・・・・・・・・・・🚪🔽＃", #
    "＃🕳💰🕳・🚪・・・・・・・・・・・・・・・・・・・・・・・・・・＃＃＃＃", #
    "＃＃・・・＃・・・・・・・・・・・・・・・・・・・・・・・・・＃＃＃＃＃", 
    "＃＃・・🚪・・・・・・・・・・・・・・・・・・・・・・・・・＃＃＃＃＃＃", #20
    "＃＃・＃・・・・・・・・・・・・・・・・・・・・・・・・・＃＃＃＃＃＃＃", 
    "＃＃＃・・・・・・・・・・・・・・🐀・・・・・・・・・・＃＃＃＃＃＃＃＃", 
    "＃＃＃・・・・・・🐀・・・・・・・＃💰・・・・・・・＃＃＃＃＃＃＃＃＃＃", 
    "＃＃＃・・＃・・・・・・・・・・・＃・・・・・・・・＃・🐀＃＃＃＃＃＃＃", 
    "＃＃＃＃・・・・・・・💰・・🖤・・・・・・・・・・・＃🖤・＃＃＃＃＃＃＃", #25
    "＃＃＃・・・・・・・・・・・・・・＃・・・・🍾・・・＃🚪＃＃＃＃＃＃＃＃", 
    "＃＃＃・・・・・・・・・・・・・・・・・・・・・・・・・・＃＃＃＃＃＃＃", 
    "＃＃＃＃・・・・・・・・🕳・・・・・・🪨・・・・・・・・・・＃＃＃＃＃＃",
    "＃＃＃＃＃・・・・・・・・・・🕳💰🕳・・🪨・・・・・・・・・・＃＃＃＃＃",
    "＃＃＃＃＃＃・・🐀・・・・・・💰・・・・・・・💰・🕳・・・・・・・＃＃＃＃", #30
    "＃＃＃＃＃＃＃・・・・・・・・・＃・・・・・・・・・・・・・・＃＃＃＃＃", 
    "＃＃＃＃＃＃＃＃・・・・・・・・・・・・・・・・・🪨・・・・・🔽＃＃＃＃",
    "＃＃＃＃＃＃＃＃・・・・・・・・・・・・・・🍾・・・🪄・・・・・＃＃＃＃", 
    "＃＃＃＃＃＃＃＃・・・・・・・・・・・・・・・・・・・・・・Ｓ・🚪🔼💰＃", 
    "＃＃＃＃＃＃＃＃＃・・・・・・・・・・・・・・・・🐀・🐀・🍾・・＃＃＃＃", #35
    "＃＃＃＃＃＃＃＃＃＃＃・・・・・・・・・・・・・・・🐀🐀・・・＃＃＃＃＃", 
    "＃＃＃＃＃＃＃＃＃＃＃・・・・・・・・・・・・・・・・・・・・＃＃＃＃＃", 
    "＃＃＃＃＃＃＃＃＃＃＃＃・・・・・・・・・・・・・・・・・・＃＃＃＃＃＃", 
    "＃＃＃＃＃＃＃＃＃＃＃＃＃・・・・・・・・・・・・・・・・＃＃＃＃＃＃＃", 
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・🐀・・・・＃＃＃＃＃＃＃＃", #40
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・・・・＃＃＃＃＃＃＃＃＃", 
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・・・＃＃＃＃＃＃＃＃＃", #
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・＃＃＃＃＃＃＃＃＃＃", #
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃", #44
#x   0・・・・5・・・10・・・15・・・20・・・25・・・30・・・35
]

Cave_map2 =[
    "＃＃＃＃＃＃＃", 
    "＃🔽＃＃＃＃＃",
    "＃💰・💰・💰＃",
    "＃・・＃💰＃＃",
    "＃＃＃＃＃＃＃",
]

Sokoban1 = [
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
    "＃🔽＃🔼・・・＃＃＃・・・・＃",
    "＃🕳＃＃・🪨🪨・・・・🪨・・＃",
    "＃🕳＃＃・・🪨🪨＃・🪨・🪨・＃",
    "＃🕳＃＃・・・・＃・・・・・＃",
    "＃🕳＃＃＃＃＃＃＃🪨＃＃＃＃＃",
    "＃🕳＃＃＃＃＃＃・・・・・・＃",
    "＃🕳＃＃＃＃＃＃・・・・・・＃",
    "＃・・🕳🕳🕳🕳🪨🪨🪨🪨・・・＃",
    "＃💰💰＃＃＃＃＃・・・・・・＃",
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃"
]

Sokoban2 = [
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
    "＃＃＃・🔼＃＃＃＃＃＃＃＃＃＃＃＃・・・・・・・・・＃",
    "＃＃・・・・・・・・・・＃＃＃＃＃・・・・・・・・・＃",
    "＃＃・🪨＃＃＃＃＃🪨＃・＃＃＃＃＃・・・・・・・・・＃",
    "＃＃・・＃・・・＃・🪨・＃＃＃＃＃・・・・🔽・・・・＃",
    "＃＃・🪨・🪨・・・・🪨＃＃＃＃＃＃・・・・・・・・・＃",
    "＃＃・🪨・・🪨・・＃・・＃＃＃＃＃・・・・・・・・・＃",
    "＃＃・＃＃＃＃🪨・＃＃・＃＃＃＃＃・・・・・・・・・＃",
    "＃＃・・🪨・・・🪨・＃・＃＃＃＃＃・・・・・・・・・＃",
    "＃＃・＃＃＃🪨＃・・・🪨・＃＃＃＃＃＃＃＃＃＃＃＃🚪＃",
    "＃＃・・・＃・・🪨＃・🪨・🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳・＃",
    "＃＃・・🪨・・・・・・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
    "＃＃＃＃＃＃・・＃・・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
]

Sokoban3 = [
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
    "＃＃＃＃・＃・・・・＃＃＃＃＃＃＃＃＃＃＃",
    "＃＃・・・🪨・・・・＃＃＃＃＃＃＃＃＃＃＃",
    "＃＃・＃・🪨🪨＃🪨🪨＃・＃・・・・・・・＃",
    "＃＃・🪨🪨＃・・・・・・＃・・・・・・・＃",
    "＃＃・＃・・🪨・＃・・・＃・・・・・・・＃",
    "＃＃・・・・＃🪨＃＃🪨＃＃・・・🔽・・・＃",
    "＃＃・・🪨🪨・・🪨・・・＃・・・・・・・＃",
    "＃＃・＃＃・・・＃・・・＃・・・・・・・＃",
    "＃＃・・・・＃🪨＃＃＃＃＃・・・・・・・＃",
    "＃＃＃＃・・🪨・＃＃＃＃＃＃＃＃＃＃＃🚪＃",
    "＃＃＃＃・・🪨🔼🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳・＃",
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
]

Sokoban4 = [
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
    "＃＃🔼・・・・・・🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳🕳・＃",
    "＃＃・・・・・・・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・＃",
    "＃＃＃＃＃＃＃＃・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・＃",
    "＃＃＃・・・・・・・・・・・＃＃＃＃＃＃＃＃＃＃＃・＃",
    "＃＃＃・🪨・🪨・🪨・🪨・🪨・＃＃＃＃＃＃＃＃＃＃＃・＃",
    "＃＃＃＃＃＃＃＃＃・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・＃",
    "＃＃・・・🪨・🪨・・🪨・🪨・＃＃＃＃＃＃＃＃＃＃＃・＃",
    "＃＃・・・🪨・・・・・・・・＃＃＃＃＃＃＃＃＃＃＃・＃",
    "＃＃＃＃＃＃・＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃・＃",
    "＃＃＃・・🪨・🪨・🪨・・・＃＃＃＃＃＃・・・・・＃・＃",
    "＃＃＃・・・・・🪨・・・・＃＃＃＃・🚪・・・・・＃・＃",
    "＃＃＃・🪨・🪨・・・🪨・＃＃＃＃＃＃＃・・・・・＃・＃",
    "＃＃＃＃＃＃＃＃・＃＃＃＃＃＃＃＃・🚪・・・・・🚪・＃",
    "＃＃・・🪨・・・・・＃＃＃＃＃＃＃＃＃・・・・・＃＃＃",
    "＃＃・・・・・・・・＃＃＃＃＃＃＃・🚪・・・・・＃＃＃",
    "＃＃・・・＃＃＃＃＃＃＃＃＃＃＃＃＃＃・・・・・＃＃＃",
    "＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃＃",
]

all_maps = {
    "maze_map": maze_map,
    "Cave_map1": Cave_map1,
    "Cave_map2": Cave_map2,
    "Sokoban1": Sokoban1,
    "Sokoban2": Sokoban2,
    "Sokoban3": Sokoban3,
    "Sokoban4": Sokoban4
    # Add more maps as needed
}


# Each stair is represented as (destination_map, destination_position)
stairs_master = {
    ("Cave_map2", (1, 1)): ("Cave_map1", (33, 34)),
    ("Cave_map1", (33, 34)): ("Cave_map2", (1, 1)),
    ("Cave_map1", (31, 32)): ("Sokoban1", (3, 1)),
    ("Sokoban1", (3, 1)): ("Cave_map1", (31, 32)),
    ("Sokoban1", (1, 1)): ("Sokoban2", (4, 1)),
    ("Sokoban2", (4, 1)): ("Sokoban1", (1, 1)),
    ("Sokoban2", (21, 4)): ("Sokoban3", (7, 11)),
    ("Sokoban3", (7, 11)): ("Sokoban2", (21, 4)),
    ("Sokoban3", (16, 6)): ("Sokoban4", (2, 1)),
    ("Sokoban4", (2, 1)): ("Sokoban3", (16, 6)),
     # Add more entries for other stairs
}

def find_map_name(map_content):
    for name, content in globals().items():
        if content == map_content:
            return name

